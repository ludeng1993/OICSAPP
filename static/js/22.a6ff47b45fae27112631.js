webpackJsonp([22],{PYyi:function(t,n,a){n=t.exports=a("FZ+f")(!0),n.push([t.i,'\n.chat-con[data-v-5acc7976]{\r\n    padding:10px 10px 0px;\n}\nli[data-v-5acc7976], ul[data-v-5acc7976] {\r\n    list-style: none;\n}\n.chatlist[data-v-5acc7976] {\r\n    position: absolute;\r\n    top: 60px;\r\n    left: 0;\r\n    right: 0;\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    padding: 10px 15px;\n}\n.chatlist ul[data-v-5acc7976] {\r\n    min-height: 300px;\n}\n.chat-list ul > .chat-mine[data-v-5acc7976]{\r\n    text-align: right;\r\n    padding-left: 0;\r\n    padding-right: 60px;\n}\n.chat-list > ul > li[data-v-5acc7976] {\r\n    position: relative;\r\n    margin-bottom: 10px;\r\n    padding-left: 60px;\r\n    min-height: 68px;\n}\n.chat-mine .chat-user[data-v-5acc7976] {\r\n    left: auto;\r\n    right: 3px;\n}\n.chat-user[data-v-5acc7976] {\r\n    position: absolute;\r\n    left: 3px;\n}\n.chat-user img[data-v-5acc7976] {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 100%;\n}\n.chat-text[data-v-5acc7976], .chat-user[data-v-5acc7976] {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    font-size: 14px;\n}\n.chat-text[data-v-5acc7976] {\r\n    position: relative;\r\n    line-height: 22px;\r\n    padding: 10px 15px;\r\n    background-color: #eee;\r\n    border-radius: 3px;\r\n    color: #333;\r\n    word-break: break-all;\r\n    max-width: 462px\\9;\n}\n.time[data-v-5acc7976] {\r\n    width: 100%;\n}\ncite[data-v-5acc7976], cite i[data-v-5acc7976] {\r\n    font-style: normal;\r\n    font-size: 12px;\n}\ncite[data-v-5acc7976] {\r\n    left: auto;\r\n    right: 60px;\r\n    text-align: right;\r\n    line-height: 24px;\r\n    white-space: nowrap;\r\n    color: #999;\r\n    text-align: left;\n}\ncite i[data-v-5acc7976] {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\n}\n.chat-text[data-v-5acc7976]:after {\r\n    content: "";\r\n    position: absolute;\r\n    left: -10px;\r\n    top: 15px;\r\n    width: 0;\r\n    height: 0;\r\n    border-style: solid dashed dashed;\r\n    border-color: #eee transparent transparent;\r\n    overflow: hidden;\r\n    border-width: 10px;\n}\n.chat-mine .chat-text[data-v-5acc7976] {\r\n    margin-left: 0;\r\n    text-align: left;\r\n    /* background-color: #33df83; */\r\n    /* color: #fff; */\r\n    background-color:#9fe658;\r\n    color: #333;\n}\n.chat-mine .chat-text[data-v-5acc7976]:after {\r\n    left: auto;\r\n    right: -10px;\r\n    /* border-top-color: #33df83; */\r\n    border-top-color: #9fe658;\n}\n.chat-text a[data-v-5acc7976]{\r\n    text-decoration:underline;\r\n    color: #005cc5\n}\n.send[data-v-5acc7976]{\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0px\n}\n.chat-notime .chat-text[data-v-5acc7976]:after{\r\n    border-style:solid;\r\n    border-color: transparent #eee transparent transparent;\r\n    border-width: 6px 10px;\r\n    left: -19px;\n}\n.chat-notime .chat-mine .chat-text[data-v-5acc7976]:after{\r\n    left: auto;\r\n    right: -19px;\r\n    border-left-color:#9fe658;\r\n    border-right-color:transparent;\r\n    border-top-color:transparent;\n}\n.chat-list.chat-notime > ul > li[data-v-5acc7976]{\r\n    min-height: 42px;\n}\n.chat-user i[data-v-5acc7976]{\r\n    font-size: 40px;\r\n    color:#67C23A;\r\n    /* padding:0px 2px; */\n}\n.chat-mine i[data-v-5acc7976]{\r\n    color:#409EFF\n}\n.weui-cells.vux-no-group-title[data-v-5acc7976]{\r\n    margin-top:0px;\n}\n.weui-vcode[data-v-5acc7976] .weui-input{\r\n    font-size:14px !important\n}\n.weui-vcode[data-v-5acc7976]{\r\n    padding:2px 15px\n}\r\n',"",{version:3,sources:["F:/OICS/src/components/common/MChat.vue"],names:[],mappings:";AACA;IACI,sBAAsB;CACzB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,mBAAmB;IACnB,UAAU;IACV,QAAQ;IACR,SAAS;IACT,mBAAmB;IACnB,mBAAmB;IACnB,mBAAmB;CACtB;AACD;IACI,kBAAkB;CACrB;AACD;IACI,kBAAkB;IAClB,gBAAgB;IAChB,oBAAoB;CACvB;AACD;IACI,mBAAmB;IACnB,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;CACpB;AACD;IACI,WAAW;IACX,WAAW;CACd;AACD;IACI,mBAAmB;IACnB,UAAU;CACb;AACD;IACI,YAAY;IACZ,aAAa;IACb,oBAAoB;CACvB;AACD;IACI,sBAAsB;IACtB,oBAAoB;IACpB,gBAAgB;CACnB;AACD;IACI,mBAAmB;IACnB,kBAAkB;IAClB,mBAAmB;IACnB,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;IACZ,sBAAsB;IACtB,mBAAmB;CACtB;AACD;IACI,YAAY;CACf;AACD;IACI,mBAAmB;IACnB,gBAAgB;CACnB;AACD;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,oBAAoB;IACpB,YAAY;IACZ,iBAAiB;CACpB;AACD;IACI,kBAAkB;IAClB,mBAAmB;CACtB;AACD;IACI,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,UAAU;IACV,SAAS;IACT,UAAU;IACV,kCAAkC;IAClC,2CAA2C;IAC3C,iBAAiB;IACjB,mBAAmB;CACtB;AACD;IACI,eAAe;IACf,iBAAiB;IACjB,gCAAgC;IAChC,kBAAkB;IAClB,yBAAyB;IACzB,YAAY;CACf;AACD;IACI,WAAW;IACX,aAAa;IACb,gCAAgC;IAChC,0BAA0B;CAC7B;AACD;IACI,0BAA0B;IAC1B,cAAc;CACjB;AACD;IACI,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,WAAW;CACd;AACD;IACI,mBAAmB;IACnB,uDAAuD;IACvD,uBAAuB;IACvB,YAAY;CACf;AACD;IACI,WAAW;IACX,aAAa;IACb,0BAA0B;IAC1B,+BAA+B;IAC/B,6BAA6B;CAChC;AACD;IACI,iBAAiB;CACpB;AACD;IACI,gBAAgB;IAChB,cAAc;IACd,sBAAsB;CACzB;AACD;IACI,aAAa;CAChB;AACD;IACI,eAAe;CAClB;AACD;IACI,yBAAyB;CAC5B;AACD;IACI,gBAAgB;CACnB",file:"MChat.vue",sourcesContent:['\n.chat-con[data-v-5acc7976]{\r\n    padding:10px 10px 0px;\n}\nli[data-v-5acc7976], ul[data-v-5acc7976] {\r\n    list-style: none;\n}\n.chatlist[data-v-5acc7976] {\r\n    position: absolute;\r\n    top: 60px;\r\n    left: 0;\r\n    right: 0;\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    padding: 10px 15px;\n}\n.chatlist ul[data-v-5acc7976] {\r\n    min-height: 300px;\n}\n.chat-list ul > .chat-mine[data-v-5acc7976]{\r\n    text-align: right;\r\n    padding-left: 0;\r\n    padding-right: 60px;\n}\n.chat-list > ul > li[data-v-5acc7976] {\r\n    position: relative;\r\n    margin-bottom: 10px;\r\n    padding-left: 60px;\r\n    min-height: 68px;\n}\n.chat-mine .chat-user[data-v-5acc7976] {\r\n    left: auto;\r\n    right: 3px;\n}\n.chat-user[data-v-5acc7976] {\r\n    position: absolute;\r\n    left: 3px;\n}\n.chat-user img[data-v-5acc7976] {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 100%;\n}\n.chat-text[data-v-5acc7976], .chat-user[data-v-5acc7976] {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    font-size: 14px;\n}\n.chat-text[data-v-5acc7976] {\r\n    position: relative;\r\n    line-height: 22px;\r\n    padding: 10px 15px;\r\n    background-color: #eee;\r\n    border-radius: 3px;\r\n    color: #333;\r\n    word-break: break-all;\r\n    max-width: 462px\\9;\n}\n.time[data-v-5acc7976] {\r\n    width: 100%;\n}\ncite[data-v-5acc7976], cite i[data-v-5acc7976] {\r\n    font-style: normal;\r\n    font-size: 12px;\n}\ncite[data-v-5acc7976] {\r\n    left: auto;\r\n    right: 60px;\r\n    text-align: right;\r\n    line-height: 24px;\r\n    white-space: nowrap;\r\n    color: #999;\r\n    text-align: left;\n}\ncite i[data-v-5acc7976] {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\n}\n.chat-text[data-v-5acc7976]:after {\r\n    content: "";\r\n    position: absolute;\r\n    left: -10px;\r\n    top: 15px;\r\n    width: 0;\r\n    height: 0;\r\n    border-style: solid dashed dashed;\r\n    border-color: #eee transparent transparent;\r\n    overflow: hidden;\r\n    border-width: 10px;\n}\n.chat-mine .chat-text[data-v-5acc7976] {\r\n    margin-left: 0;\r\n    text-align: left;\r\n    /* background-color: #33df83; */\r\n    /* color: #fff; */\r\n    background-color:#9fe658;\r\n    color: #333;\n}\n.chat-mine .chat-text[data-v-5acc7976]:after {\r\n    left: auto;\r\n    right: -10px;\r\n    /* border-top-color: #33df83; */\r\n    border-top-color: #9fe658;\n}\n.chat-text a[data-v-5acc7976]{\r\n    text-decoration:underline;\r\n    color: #005cc5\n}\n.send[data-v-5acc7976]{\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0px\n}\n.chat-notime .chat-text[data-v-5acc7976]:after{\r\n    border-style:solid;\r\n    border-color: transparent #eee transparent transparent;\r\n    border-width: 6px 10px;\r\n    left: -19px;\n}\n.chat-notime .chat-mine .chat-text[data-v-5acc7976]:after{\r\n    left: auto;\r\n    right: -19px;\r\n    border-left-color:#9fe658;\r\n    border-right-color:transparent;\r\n    border-top-color:transparent;\n}\n.chat-list.chat-notime > ul > li[data-v-5acc7976]{\r\n    min-height: 42px;\n}\n.chat-user i[data-v-5acc7976]{\r\n    font-size: 40px;\r\n    color:#67C23A;\r\n    /* padding:0px 2px; */\n}\n.chat-mine i[data-v-5acc7976]{\r\n    color:#409EFF\n}\n.weui-cells.vux-no-group-title[data-v-5acc7976]{\r\n    margin-top:0px;\n}\n.weui-vcode[data-v-5acc7976] .weui-input{\r\n    font-size:14px !important\n}\n.weui-vcode[data-v-5acc7976]{\r\n    padding:2px 15px\n}\r\n'],sourceRoot:""}])},WDot:function(t,n,a){var e=a("PYyi");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("rjj0")("7da93dde",e,!0,{})},Z8wG:function(t,n,a){"use strict";function e(t){a("WDot")}Object.defineProperty(n,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),o=a("//Fk"),c=a.n(o),A=a("1sNz"),s=a("pDNl"),l=a("rHil"),d=(String,String,String,Function,Array,A.a,s.a,l.a,{props:{placeholder:String,homeUrl:String,detailUrl:String,buildDetailUrl:{type:Function,default:function(){return null}},value:{type:Array,default:function(){return[]}}},components:{ViewBox:A.a,XInput:s.a,Group:l.a},data:function(){return{input:"",showTime:!1}},watch:{value:function(t){this.$nextTick(function(){this.$refs.vbox.scrollTo(99999999)})}},methods:{putMsg:function(t){t&&t.content&&(t.type=1!=t.type?0:1,t.time=t.time||this.getTime(),this.value.push(t))},getDetailUrl:function(t){var n="";return this.buildDetailUrl&&(n=this.buildDetailUrl(t)),n||this.detailUrl+"/"+t.id},getTime:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},handleSend:function(){if(console.warn(this.input),this.input=this.input.trim(),""==this.input)return this.focus();this.putMsg({content:this.input,type:0}),this.$emit("on-send",this.input),this.input="",this.focus()},focus:function(){this.$refs.txt.focus()},handleHome:function(){console.log(this.homeUrl),this.$router.push(this.homeUrl||"/")},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)}},mounted:function(){console.log(this.value),this.$nextTick(function(){this.focus()})}}),p=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("view-box",{ref:"vbox",attrs:{"body-padding-bottom":"55px"}},[a("div",{staticClass:"chat-con"},[a("section",{staticClass:"chat-list",class:{"chat-notime":!t.showTime}},[a("ul",t._l(t.value,function(n){return a("li",{class:{"chat-mine":0==n.type}},[0==n.type?a("div",{staticClass:"chat-user"},[a("i",{staticClass:"fa fa-user-circle"})]):a("div",{staticClass:"chat-user"},[a("i",{staticClass:"fa fa-headphones"})]),t._v(" "),t.showTime?a("div",[0==n.type?a("div",{staticClass:"time"},[a("cite",[a("i",[t._v(t._s(n.time))]),t._v(t._s(n.name))])]):a("div",{staticClass:"time"},[a("cite",[a("i",[t._v(t._s(n.name))]),t._v(t._s(n.time))])])]):t._e(),t._v(" "),"object"==typeof n.content?a("div",{staticClass:"chat-text"},[a("ul",t._l(n.content,function(n,e){return a("li",{key:e},[a("router-link",{attrs:{to:t.getDetailUrl(n)}},[t._v(t._s(n.text))])],1)}))]):a("div",{staticClass:"chat-text",domProps:{innerHTML:t._s(n.content)}})])}))])]),t._v(" "),a("group",{staticClass:"send",attrs:{slot:"bottom"},slot:"bottom"},[a("x-input",{ref:"txt",staticClass:"weui-vcode",attrs:{placeholder:t.placeholder,"show-clear":!1},on:{"on-enter":t.handleSend},model:{value:t.input,callback:function(n){t.input=n},expression:"input"}},[a("div",{attrs:{slot:"right"},slot:"right"},[a("i",{staticClass:"fa fa-location-arrow",staticStyle:{"font-size":"24px",color:"#4dadf7"},on:{click:t.handleSend}}),t._v(" "),a("span",{staticStyle:{"padding-left":"10px"}}),t._v(" "),a("i",{staticClass:"iconfont icon-shouye-copy",staticStyle:{"font-size":"24px"},on:{click:t.handleHome}})])])],1)],1)},h=[],u={render:p,staticRenderFns:h},C=u,B=a("VU/8"),f=e,x=B(d,C,!1,f,"data-v-5acc7976",null),g=x.exports,m={components:{MChat:g},data:function(){return{message:[{type:1,content:"您好，请问有什么需要帮助的吗"}],isPushHot:!1}},methods:{onSend:function(t){console.log("onSend",t);var n=this;setTimeout(function(){n.message.push({type:1,content:[{text:t,id:"aaa"},{text:t,id:"bbb"}]})},500)},bDetail:function(t){return{path:"/Product_Form/"+t.id+"?type="+t.type}},getData:function(t){return new c.a(function(n,a){zskQuery({token:"",empid:"1111111",serviceName:"pcrm",func:"sp_CzApp_GetKeyWords",params:i()(t?{type:"keywordschat",words:t}:{type:"hot"}),ext:"procedure"},function(t){console.log(t),n(t)})})},pushHot:function(){var t=this;this.isPushHot||(this.isPushHot=!0,this.getData().then(function(n){n&&t.message.push({type:1,content:n})}))}},mounted:function(){this.$route.query.kw||this.pushHot()},beforeRouteEnter:function(t,n,a){console.log(t,n),a(function(t){var n=t.$route.query.kw;if(n)return t.message.push({content:n,type:0}),t.onSend(n);t.pushHot()})}},v=function(){var t=this,n=t.$createElement;return(t._self._c||n)("m-chat",{ref:"mchat",attrs:{placeholder:"请输入关键字","home-url":"/product_list","detail-url":"/hello","build-detail-url":t.bDetail},on:{"on-send":t.onSend},model:{value:t.message,callback:function(n){t.message=n},expression:"message"}})},I=[],b={render:v,staticRenderFns:I},y=b,w=a("VU/8"),D=w(m,y,!1,null,null,null);n.default=D.exports}});
//# sourceMappingURL=22.a6ff47b45fae27112631.js.map